/*! jquery-simpletable - v0.0.1 - 2014-04-14
* https://github.com/edgardleal/jquery-simpletable
* Copyright (c) 2014 Edgard Leal; Licensed MIT */
var __x=eval;!function(a){a.widget("custom.simpleTable",{options:{keyField:null,data:void 0,url:void 0,columns:[],table:null,border:1},setStyle:function(){a(".jtable th").each(function(){a(this).addClass("ui-state-default")}),a(".jtable td").each(function(){a(this).addClass("ui-widget-content")})},_setupHead:function(){var b=this,c='<thead><tr class="ui-widget-header">';for(var d in b.options.columns)c+='<th clas="ui-state-default" width="'+b.options.columns[d].width+'">'+b.options.columns[d].title+"</th>";b.element.prepend(a(c+"</tr>"))},_setupBody:function(){var a="<tbody></tbody>";return this.body=this.element.append(a),this.bory},_findColumn:function(a){for(var b in this.options.columns)if(this.options.columns[b].title===a)return this.options.columns[b]},_createRow:function(b,c){for(var d=this,e='<tr id="'+c+'">',f=1;b>=f;f++)e+='<td class="ui-widget-content"></td>';var g=a(e+"</tr>");return d.body.append(g),g.hover(function(){a(this).children("td").addClass("ui-state-hover")},function(){a(this).children("td").removeClass("ui-state-hover")}).click(function(){a(this).children("td").toggleClass("ui-state-highlight")}),g},_buildCellHtml:function(a,b){var c=a[b.field];return"function"===b.mapFunction&&(c=b.mapFunction.call(c)),c},_refreshRow:function(a){var b=this,c=Object.keys(a),d=a[b.options.keyField];if(!d)throw"keyField not pased";var e=b.body.find("tr[id="+d+"]");(!e||e.length<1)&&(e=b._createRow(b.options.columns.length,d));var f=0,g=e.find("td");for(var h in c){var i=b._findColumn(c[h]);if(i){var j=a[i.field],k='var value="'+j+'"\n',l=g.get(f++);if(i.conditions)for(var m in i.conditions)try{if(__x(k+i.conditions[m].expression)){var n=i.conditions[m].cell,o=i.conditions[m].parent;n&&(l.style.cssText=n),o&&(e.get(0).style.cssText=o);break}}catch(p){}l.innerHTML=b._buildCellHtml(a,i)}}},refresh:function(){var a=this;for(var b in a.options.data)a._refreshRow(a.options.data[b])},_create:function(){var a=this;a.head=a.element.find("thead"),a.head.length||a._setupHead(),a.body=a.element.find("tbody"),a.body.length||a._setupBody();for(var b in a.options.columns)a.options.columns[b].field||(a.options.columns[b].field=a.options.columns[b].title);a.element.addClass("ui-widget").attr("border",a.options.border),this.refresh()}}),a.expr[":"].awesome=function(b){return-1!==a(b).text().indexOf("awesome")}}(jQuery);